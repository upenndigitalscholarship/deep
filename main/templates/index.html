{% extends 'base.html' %}
{% load static %}
{% block extra_css %}
<link href="assets/css/choices.min.css" rel="stylesheet">
<!-- all the JS goes here when ready <script src="assets/js/scripts.js" defer></script> -->

{% endblock %}
{% block content %}

<!-- ======= Search Section ======= -->
<section id="search" class="services section-bg" onload="search();">
  <div style="margin-top:80px; min-height: 600px;" class="container" >
    <div id="users">

    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="icon-box">
          <div class="icon"><i class="bi bi-search" style="color: #330e40;" no-repeat center center fixed;"></i></div>
          
  
          
          
          <div class="collapse show" style="margin-left:12px" id="advancedSearch">
            
            <div class="input-group mb-3"> 
              <span >Record Type:&nbsp;&nbsp;</span> 
        
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="singlePlay" value="singlePlay" checked>
                <label class="form-check-label" for="singlePlay">Single-Play Playbooks</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="Collections" value="Collections" checked>
                <label class="form-check-label" for="Collections">Collections</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="checkbox" id="PlaysinCollections" value="PlaysinCollections" checked>
                <label class="form-check-label" for="PlaysinCollections">Plays in Collection</label>
              </div>
              
            </div>
            
            
            <!-- filterBlock -->
            <div id="filterBlocks">
            
            <!-- filterBlock -->
          </div>
          <span >Add filter:&nbsp;&nbsp;</span>
              <div class="btn-group mb-2" role="group" aria-label="Basic radio toggle button group">
                <!-- Add new filter box 
                The top box has option to add AND OR
                Each child has a disabled button with the operator selected, and a remove button
                 -->
                <button class="btn btn-outline-dark btn-sm" onclick="addANDBlock()">and</button>
                <button class="btn btn-outline-dark btn-sm" onclick="addORBlock()">or</button>
                
                
                
                
              </div>
          </div>
        </div>
      </div>
      
  </div>
  
  

  <div  class="row">
    <div class="col-lg-12 col-md-12">
    
      <!-- View Selector  -->
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="titleRadio" value="title">
        <label class="form-check-label text-light" for="titleRadio">Work</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="editionRadio" value="edition" checked>
        <label class="form-check-label text-light" for="editionRadio">Edition</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="recordRadio" value="record">
        <label class="form-check-label text-light" for="recordRadio">Record</label>
      </div>
      <div class="form-check form-check-inline">
        <h6 class="text-light">Results: <span id="resultCount">0</span></h4>
      </div>
      
      <button id="expandAllButton" class="btn btn-light float-end" onclick="expandAll(this);">Expand all</button>
  <table class="table bg-light text-dark rounded-0">
    <!-- IMPORTANT, class="list" have to be at tbody -->
    <tbody class="list">
      <thead>
        <tr>
          <th class="sort col-1" data-sort="result_number" data-default-order='desc' scope="col"></th>
          <th class="sort col-2" data-sort="deep_id" data-default-order='desc' scope="col">DEEP #</th>
          <th class="sort col-2" data-sort="year" data-default-order='desc' scope="col">Year</th>
          <th class="sort col-2" data-sort="author" scope="col">Author</th>
          <th class="sort col-7" data-sort="title" scope="col">Title</th>
          <th class="col-1"></th>
        </tr>
      </thead>
      

    </tbody>

  </table>
  

</div>


      
    </div>
    
</div>
</section><!-- End Search Section -->

  
  
{% endblock %}    
    

  
  {% block extra_js %}  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/list.js/2.3.1/list.min.js"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/wnumb/1.2.0/wNumb.min.js"></script>  
  <script src="/assets/js/choices.min.js"></script>   
  <script src="/assets/js/deep.js"></script>   
  
  <script>
    document.getElementById("singlePlay").addEventListener("change", search);
    document.getElementById("Collections").addEventListener("change", search);
    document.getElementById("PlaysinCollections").addEventListener("change", search);
  </script>
  <script>
      let get_deep_id = window.location.href.split('/')[3];
      console.log(get_deep_id);
  </script>  
    
 
  {% endblock %}
